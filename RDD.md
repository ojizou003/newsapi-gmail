# 要件定義書：AIニュース自動要約＆メール送信アプリ

## 1. はじめに

### 1.1 目的
本ドキュメントは、「AIニュース自動要約＆メール送信アプリ」の開発に関する要件を定義するものである。
本アプリは、NewsAPIを利用してAI関連の最新ニュースを自動で取得し、内容を日本語で要約した上で、指定されたGmailアドレスへ毎日定期的に送信することを目的とする。

### 1.2 背景
AI技術の急速な進展に伴い、関連ニュースを日々追いかけることの重要性が増している。しかし、膨大な情報の中から主要なニュースを効率的に収集するには多大な時間と労力を要する。この課題を解決するため、本アプリを開発する。

### 1.3 範囲
- **範囲内**
    - NewsAPIからのニュース取得
    - 取得したニュースの要約生成
    - 要約済みニュースのGmail(MAILADDRESS)への送信
    - 上記処理の定時自動実行
- **範囲外**
    - ユーザーインターフェース（UI）の開発
    - 複数ユーザーへの対応
    - 送信先メールアドレスの動的な管理機能

## 2. 機能要件

### 2.1 ニュース記事の取得
- **2.1.1 取得元**: NewsAPI (https://newsapi.org/)
- **2.1.2 検索キーワード**: "AI", "人工知能", "機械学習" 等、AIに関連するキーワード。
- **2.1.3 取得件数**: 1回の実行あたり5件。
- **2.1.4 取得対象**: 最新のニュース記事。

### 2.2 ニュース記事の要約
- **2.2.1 要約言語**: 日本語
- **2.2.2 要約手法**: Gemini CLIを利用して、記事ごとに要約を生成する。

### 2.3 メール送信
- **2.3.1 送信サービス**: Gmail API
- **2.3.2 送信元/送信先**: 設定ファイル等で指定された単一のメールアドレス。
- **2.3.3 件名**: 「【自動配信】本日のAIニュース (YYYY-MM-DD)」のように、日付を含んだ固定フォーマットとする。
- **2.3.4 本文フォーマット**:
    - 取得したニュース1件ごとに、以下の情報を記載する。
        - 記事タイトル
        - 日本語要約
        - 元記事へのURL

### 2.4 スケジューリング
- **2.4.1 実行頻度**: 毎日1回
- **2.4.2 実行時刻**: 毎朝 6:00
- **2.4.3 実行方法**: crontabを利用して、メインの処理スクリプトを定時実行する。

## 3. 非機能要件

### 3.1 セキュリティ
- NewsAPIキー、Gmail APIの認証情報、およびその他の機密情報は、環境変数または専用の設定ファイルで管理し、ソースコードに直接ハードコーディングしない。

### 3.2 運用・保守
- 処理中にエラーが発生した場合（API接続失敗、要約失敗など）、エラー内容をログファイルに出力する。
- 正常に処理が完了した場合も、その旨をログに出力する。

## 4. 技術スタック
- **プログラミング言語**: Python
- **主要ライブラリ**:
    - `requests`: NewsAPIへのHTTPリクエスト
    - `google-api-python-client`, `google-auth-oauthlib`: Gmail APIの利用
- **実行環境**: crontabが利用可能なLinux環境
